diff --git a/PKGBUILD b/PKGBUILD
index 902ffcd..348b812 100644
--- a/PKGBUILD
+++ b/PKGBUILD
@@ -10,14 +10,15 @@ _SequenceParsing_commit=3c93fcc488632b0bdfeee3181586809932357598
_tinydir_commit=64fb1d4376d7580aa1013fdbacddbbeba67bb085

pkgname=natron-compositor
-pkgver=2.4.4
-pkgrel=1
+pkgver=2.5.0
+pkgrel=4
pkgdesc="Open source compositing software"
arch=('x86_64')
url="https://natrongithub.github.io/"
license=('GPL')
-depends=('boost-libs' 'cairo' 'glfw-x11' 'python2-pyside')
-makedepends=('boost' 'expat' 'openmp')
+depends=('boost-libs' 'cairo' 'glfw' 'pyside2' 'python-qtpy' 'shiboken2')
+makedepends=('boost' 'glfw-x11' 'extra-cmake-modules' 'expat' 'git' 'openmp' 'ninja' 'icu' 'fontconfig' 'gzip' 'p7zip' 'xz' 'zip' 'unzip'
+             'bzip2' 'minizip' 'zlib')
optdepends=('openfx-arena: Extra OpenFX plugins for Natron'
'openfx-gmic: OpenFX wrapper for the GMIC framework'
'openfx-io: Readers/Writers plugins'
@@ -36,9 +37,9 @@ source=("${_pkgname}.tar.gz::${_url}/${_pkgname%-*}/archive/refs/tags/v${pkgver}
"google-test-${_google_test_commit}.tar.gz::${_url}/google-test/archive/${_google_test_commit}.tar.gz"
"SequenceParsing-${_SequenceParsing_commit}.tar.gz::${_url}/SequenceParsing/archive/${_SequenceParsing_commit}.tar.gz"
"tinydir-${_tinydir_commit}.tar.gz::${_url}/tinydir/archive/${_tinydir_commit}.tar.gz")
-sha512sums=('a703f36c01e0a980d53d1e12bf51fc1c819437261319f9a24cfd48e6ec810238c8907ba9a1460455572bbc5a182a343d31d4fb4d5d5658a87e285e1cde541e6f'
-            '39983f693798121342bf6509c819f9243c176c8123e4e2665309270ba3709f686592f9f29b3b938d2c7ce87c756b0ce9ef0ea36c0c96e4d3ba3379bd7f5976be'
-            '1e2c20a2ccc597aec8c69352f2b0533f75afcceda427247346b64752ce0de82631ab89f47ff182c326e12d3fce2efda8ee846d6768cb8cfcb27e3da6e2399e78'
+sha512sums=('SKIP'
+            'SKIP'
+            'SKIP'
'SKIP'
'SKIP'
'SKIP'
@@ -62,40 +63,41 @@ prepare() {

tar -xzf "openfx-${_pkgname}.tar.gz" --strip 1 \
-C   "${_pkgname}/libs/OpenFX/"
+tar -xzf "OpenColorIO-Configs-${_pkgname%-*}-v${pkgver%.*}.tar.gz"

-#  mv "config.pri" \
-#     "${_pkgname}/config.pri"
-  mv "${_pkgname}/build-configs/arch-linux/config.pri" \
-     "${_pkgname}"
}

-build() {
-  cd "${_pkgname}"

-  [[ -d build ]] && rm -r build; mkdir build; cd build
+build() {
+  cd $_pkgname

-  qmake-qt4 -r ../Project.pro \
-               PREFIX=/usr \
-               BUILD_USER_NAME="Arch_Linux" \
-               CONFIG+=custombuild \
-               CONFIG+=openmp \
-               DEFINES+=QT_NO_DEBUG_OUTPUT \
-               QMAKE_CFLAGS_RELEASE="${CFLAGS}" \
-               QMAKE_CXXFLAGS_RELEASE="${CXXFLAGS}" \
-               QMAKE_LFLAGS_RELEASE="${LDFLAGS}"
+  cmake -G Ninja \
+        -B build \
+        -DCMAKE_BUILD_TYPE=Release \
+        -DCMAKE_INSTALL_PREFIX=/usr \
+        -DNATRON_BUILD_TESTS=OFF

-  make
+  ninja -C build/
}

package() {
-  cd "${_pkgname}/build"
-  make INSTALL_ROOT="${pkgdir}" install
-
-  install -d "${pkgdir}/usr/share/Natron/Plugins/"
-  cp -r "../Gui/Resources/PyPlugs" \
-        "${pkgdir}/usr/share/Natron/Plugins/"
-
-  install -d "${pkgdir}/etc/profile.d"
-  echo -e "export FONTCONFIG_PATH=/etc/fonts\n" > "${pkgdir}/etc/profile.d/${pkgname%-*}.sh"
-  echo -e "setenv FONTCONFIG_PATH /etc/fonts\n" > "${pkgdir}/etc/profile.d/${pkgname%-*}.csh"
+  cd $_pkgname
+
+  DESTDIR="$pkgdir" ninja -C build/ install
+
+  install -d "$pkgdir/usr/share/Natron/Plugins/"
+  cp -r "Gui/Resources/PyPlugs" \
+        "$pkgdir/usr/share/Natron/Plugins/"
+
+  install -d "$pkgdir/usr/share/mime/application/"
+  mv "$pkgdir/usr/share/mime/x-natron.xml" \
+     "$pkgdir/usr/share/mime/application/"
+
+     #tar  â€“xzf "$srcdir/OpenColorIO-Configs-Natron-v2.5.tar.gz"
+     cp -R "$srcdir/OpenColorIO-Configs-Natron-v2.5/" "$pkgdir/usr/share/OpenColorIO-Configs/"
+
+
+  install -d "$pkgdir/etc/profile.d"
+  echo -e "export FONTCONFIG_PATH=/etc/fonts\n" > "$pkgdir/etc/profile.d/$_pkgname.sh"
+  echo -e "setenv FONTCONFIG_PATH /etc/fonts\n" > "$pkgdir/etc/profile.d/$_pkgname.csh"
}
